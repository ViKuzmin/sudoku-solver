#name: CI
#
#on:
#  pull_request:
#    types: [opened, reopened, synchronize]
#  push:
#    branches:
#      - master
#jobs:
#  unit_tests:
#    name: Unit tests
#    runs-on: ubuntu-latest
#    steps:
#      - name: Checkout repository
#        uses: actions/checkout@v4
#
#      - name: Setup Go
#        uses: actions/setup-go@v4
#        with:
#          go-version: ^1.22
#      - name: Setup dependencies
#        run: |
#          sudo apt update
#          sudo apt install libtesseract-dev
#      - name: Test
#        run: go test -cover -coverprofile=coverage.txt ./...
#      - name: Archive code coverage results
#        uses: actions/upload-artifact@v4
#        with:
#          name: code-coverage
#          path: coverage.txt
#  code_coverage:
#    name: Code coverage report
#    if: github.event_name == 'pull_request'
#    runs-on: ubuntu-latest
#    needs: unit_tests
#    permissions:
#      contents:      read
#      actions:       read  # to download code coverage results from "test" job
#      pull-requests: write # write permission needed to comment on PR
#    steps:
#      - uses: fgrosse/go-coverage-report@v1.1.1 # Consider using a Git revision for maximum security
#        with:
#          coverage-artifact-name: "code-coverage" # can be omitted if you used this default value
#          coverage-file-name: "coverage.txt" # can be omitted if you used this default value